<!DOCTYPE html>
<html ng-app="personLibraryApp">
<head lang="en">
	<meta charset="UTF-8">
	<link rel="stylesheet" href="../libs/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="../libs/bower-ui-grid/ui-grid.min.css">
	<link rel="stylesheet" href="../stylesheets/person-library.css">
	<link rel="stylesheet" href="../stylesheets/custom-modal.css">
	<title>Homework 2. Advance</title>
</head>
<body ng-controller="PersonGridController" ng-open="refreshData()">
	<div class="container">
		<div class="row">
			<div class="person-grid-wrapper col-sm-12">
				<div class="person-header">
					<header>
						<h1>Lesson 2. Homework. Advance</h1>
					</header>
					<button type="button" class="btn" ng-class="showButton.btnClass" ng-click="changeBtn()">{{showButton.text}}</button>
				</div>
				<div class="line"></div>
				<div class="person-grid" ng-show="showButton.isShow">
					<input type="text" class="form-control" ng-change="refreshData()" placeholder="Enter text to filter persons" ng-model="searchText">
					<div class="line"></div>
					<div id="grid" ui-grid="gridOptions" ui-grid-auto-resize></div>
				</div>
				<div class="last-viewed" ng-show="lastViewed.person != null">
				    Last viewed: {{lastViewed.person.firstName}} {{lastViewed.person.lastName}}
				</div>
			</div>
		</div>
	</div>

	<custom-modal header="{{data.firstName}} {{data.lastName}}" show="show" ok-text="Submit"
                  cancel-text="Cancel window"
                  oncancel="cancelFn"
                  onsubmit="submitFn"
                  toggle-modal="toggleModal(show)"
                  last-viewed="lastViewed"
                  data="data">
        <ul>
            <li>
                <b>Age:</b>
                <span>{{data.age}}</span>
            </li>
            <li>
                <b>Street:</b>
                <span>{{data.address.streetAddress}}</span>
            </li>
            <li>
                <b>City:</b>
                <span>{{data.address.city}}</span>
            </li>
            <li>
                <b>State:</b>
                <span>{{data.address.state}}</span>
            </li>
            <li>
                <b>Postal Code:</b>
                <span>{{data.address.postalCode}}</span>
            </li>
            <li>
                <b>Home Number:</b>
                <span>{{data.phoneNumber[0].number}}</span>
            </li>
            <li>
                <b>Fax Number:</b>
                <span>{{data.phoneNumber[1].number}}</span>
            </li>
        </ul>
    </custom-modal>

	<script src="../libs/angular/angular.min.js"></script>
	<script src="../libs/bower-ui-grid/ui-grid.min.js"></script>
	<script src="../javascripts/lab2-adv/app.js"></script>
	<script src="../javascripts/lab2-adv/personService.js"></script>
	<script src="../javascripts/lab2-adv/personGridController.js"></script>
	<script src="../javascripts/lab2-adv/customModalDirective.js"></script>
</body>
</html>
